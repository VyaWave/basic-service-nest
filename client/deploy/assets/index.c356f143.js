import{R as c,j as t,a as d,I as p,E,b as g,C as B,c as F,V as k,B as A,S as U,d as f,t as y,N as D,e as M}from"./vendor.c478b483.js";const O=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&h(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function h(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}};O();const P="_container_1922i_1",R="_main_1922i_13",W="_ctxWrapper_1922i_46",j="_tips_1922i_57",G="_title_1922i_64";var o={container:P,main:R,ctxWrapper:W,tips:j,title:G};var V="/assets/icon.782a31a3.svg";const v=s=>t(D,{type:s.type,header:s.title,closable:!0,children:t("div",{style:{minWidth:200,minHeight:40},children:s.content})}),C={width:300,marginBottom:20},Y=()=>{const[s,l]=c.useState(!1),[r,h]=c.useState(!0),[e,n]=c.useState(""),[i,_]=c.useState(""),[L,m]=c.useState(!1),S=()=>{l(!s)},b=()=>{h(!r)},w=a=>{_(a.trim())},N=a=>{n(a.trim())},x=()=>{const a="https://api.weiya.work/api";return f.post(`${a}/account/register`,{email:e,password:i}).then(u=>{u.data.code==200&&(m(!0),y.push(v({type:"success",title:"\u63D0\u793A",content:"\u6CE8\u518C\u6210\u529F"}),{placement:"topEnd"}))})},I=()=>{const a="https://api.weiya.work/api";return f.post(`${a}/account/login`,{email:e,password:i}).then(u=>{console.info(u),u.data.code==200&&(m(!0),y.push(v({type:"success",title:"\u63D0\u793A",content:"\u767B\u5F55\u6210\u529F"}),{placement:"topEnd"}),window.location.href=u.data.nextUrl)})};return t("div",{className:o.container,children:d("main",{className:o.main,children:[t("img",{src:V,"data-origin":"_media/icon.svg",alt:"logo",width:"250",height:"60",style:{zIndex:100,position:"relative"}}),L?t("p",{className:o.title,children:"You Success Login!"}):d("div",{className:o.ctxWrapper,children:[d(p,{inside:!0,style:C,className:o.input,children:[t(p.Addon,{children:t(E,{})}),t(g,{placeholder:"Your Account",value:e,onChange:N})]}),d(p,{inside:!0,style:C,className:o.input,children:[t(p.Addon,{children:t(B,{})}),t(g,{placeholder:"Your Password",type:s?"text":"password",value:i,onChange:w}),t(p.Button,{onClick:S,children:s?t(F,{}):t(k,{})})]}),d(A,{type:"submit",className:o.button,appearance:"primary",style:{width:300},color:"blue",onClick:r?I:x,children:[r?"\u767B\u5F55\u7CFB\u7EDF":"\u6CE8\u518C\u8D26\u53F7",t(U,{style:{transform:"rotate(90deg)",fontSize:"20px"}})]}),t("div",{className:o.tips,onClick:b,children:r?"Go To SignUp":"Go To Login"})]})]})})};M.render(t(c.StrictMode,{children:t(Y,{})}),document.getElementById("root"));
